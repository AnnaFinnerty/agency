(this.webpackJsonpagency=this.webpackJsonpagency||[]).push([[0],{258:function(e,t,a){e.exports=a(427)},263:function(e,t,a){},427:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(64),r=a.n(o),i=(a(263),a(17)),l=a(18),c=a(21),p=a(22),m=a(23),u=a(66),h=a(37);function d(){}d.prototype.RandomFromArray=function(e){return e[Math.floor(Math.random()*e.length)]},d.prototype.RandomBetweenInts=function(e,t){return Math.floor(Math.random()*(t-e))+e},d.prototype.XRandomWithoutRepeats=function(e,t){var a=[];a.fill(0,e.length-1);for(var n=0;n<t;n++)Math.floor(Math.random()*a)},d.prototype.monify=function(e){return"$"+e.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")};var y=d,f=a(446),g=a(443),E=a(428),v=a(245),w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).state={},e.helpers=new y,e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;console.log("industry props",this.props.industry);var t=this.props.industry.clients.map((function(e){return s.a.createElement(f.a,null,s.a.createElement(f.a.Content,null,s.a.createElement(f.a.Header,null,e.name),s.a.createElement(f.a.Description,null,"Rep: ",e.rep.name.full)))})),a=this.props.industry.competitors.map((function(t){var a=e.helpers.monify(12*t.monthlyProfit);return s.a.createElement(f.a,null,s.a.createElement(f.a.Content,null,s.a.createElement(f.a.Header,null,t.name),s.a.createElement(f.a.Description,null,"Yearly income: ",a)))}));return s.a.createElement(g.a,{open:this.props.open,style:{height:"90vh"}},s.a.createElement(g.a.Header,null,"Industry",s.a.createElement(E.a,{onClick:function(){return e.props.closeModal("industryModalOpen")},style:{float:"right"}},"X")),s.a.createElement(g.a.Content,null,s.a.createElement(v.a,{columns:2},s.a.createElement(v.a.Column,{width:8},s.a.createElement(v.a.Row,null,"clients"),t),s.a.createElement(v.a.Column,{width:8},s.a.createElement(v.a.Row,null,"competitors"),a))))}}]),t}(n.Component),j=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(g.a,{open:this.props.open,style:{height:"90vh"}},s.a.createElement(g.a.Header,null,this.props.agency.name,s.a.createElement(E.a,{onClick:function(){return e.props.closeModal("agencyModalOpen")},style:{float:"right"}},"X")),s.a.createElement(g.a.Content,null,s.a.createElement(g.a.Description,null,s.a.createElement(v.a,{columns:2},s.a.createElement(v.a.Column,null,s.a.createElement(v.a.Row,null,"Years of Operation:"),s.a.createElement(v.a.Row,null,"Cash on Hand:"),s.a.createElement(v.a.Row,null,"Monthly Expenses:"),s.a.createElement(v.a.Row,null,"Monthly Income:"),s.a.createElement(v.a.Row,null,"Active Projects:"),s.a.createElement(v.a.Row,null,"Total Employees:"),s.a.createElement(v.a.Row,null,"Highest Salary:"),s.a.createElement(v.a.Row,null,"Lowest Salary:"),s.a.createElement(v.a.Row,null,"Average Salary:")),s.a.createElement(v.a.Column,null,s.a.createElement(v.a.Row,null,this.props.agency.yearsInOperation),s.a.createElement(v.a.Row,null,this.props.agency.coh),s.a.createElement(v.a.Row,null,this.props.agency.monthlyExpenditures),s.a.createElement(v.a.Row,null,this.props.agency.monthlyProfit),s.a.createElement(v.a.Row,null,"Active Projects:"),s.a.createElement(v.a.Row,null,"Total Employees:"),s.a.createElement(v.a.Row,null,this.props.agency.maxSalary),s.a.createElement(v.a.Row,null,"Lowest Salary:"),s.a.createElement(v.a.Row,null,"Average Salary:"))))))}}]),t}(n.Component),k=(a(48),a(65)),C=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).openModal=function(t){e.setState(Object(h.a)({},t,!0))},e.closeModal=function(t){e.setState(Object(h.a)({},t,!1))},e.openFull=function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen(),e.setState({fullscreen:!0})},e.closeFull=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),e.setState({fullscreen:!1})},e.state={industryModalOpen:!1,agencyModalOpen:!1,fullscreen:!1},e.helpers=new y,e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.helpers.monify(this.props.agency.coh),a=this.helpers.monify(this.props.agency.monthlyProfit),n=this.helpers.monify(this.props.agency.monthlyExpenditures);return s.a.createElement(s.a.Fragment,null,s.a.createElement("header",null,s.a.createElement("nav",null,s.a.createElement(v.a,{celled:"internally"},s.a.createElement(v.a.Column,{width:5,style:{padding:"0 10px"}},s.a.createElement("h3",null,this.props.agency.name),s.a.createElement("h5",{style:{marginTop:"0"}},this.props.agency.yearsInOperation," years in operation"),s.a.createElement(v.a.Row,null,s.a.createElement("button",{onClick:function(){return e.openModal("agencyModalOpen")}},"agency"),s.a.createElement("button",{onClick:function(){return e.openModal("industryModalOpen")}},"industry"))),s.a.createElement(v.a.Column,{width:3,style:{padding:"0 10px",textAlign:"right"}},s.a.createElement(v.a.Row,null,"Cash on Hand"),s.a.createElement(v.a.Row,null,"Income/Month"),s.a.createElement(v.a.Row,null,"Loss/Month"),s.a.createElement(v.a.Row,null,"Emp.Productivity"),s.a.createElement(v.a.Row,null,"Emp.Happiness")),s.a.createElement(v.a.Column,{width:3,style:{padding:"0"}},s.a.createElement(v.a.Row,null,t),s.a.createElement(v.a.Row,null,a),s.a.createElement(v.a.Row,null,n),s.a.createElement(v.a.Row,null,this.props.employeeStats.productivity,"%"),s.a.createElement(v.a.Row,null,this.props.employeeStats.happiness,"%")),s.a.createElement(v.a.Column,{width:3,style:{padding:"0"}},s.a.createElement(v.a.Row,null,"Score:",this.props.score,"/Rep:",this.props.reputation),s.a.createElement(v.a.Row,null,s.a.createElement("span",null,this.props.hour<10?"0"+this.props.hour+":00":this.props.hour+":00")),s.a.createElement(v.a.Row,null,s.a.createElement("span",null,this.props.month),"/",s.a.createElement("span",null,this.props.day),"/",s.a.createElement("span",null,this.props.startYear+this.props.year)),s.a.createElement(v.a.Row,null,this.props.timeRunning?s.a.createElement(E.a,{onClick:this.props.stopTimer,style:{padding:"7%",height:"5vh"}},s.a.createElement(k.a,{color:"red",name:"stop"})):s.a.createElement(E.a,{color:"green",size:"small",style:{padding:"7%",height:"5vh"},onClick:this.props.startTimer},s.a.createElement(k.a,{name:"play"})),this.state.fullscreen?s.a.createElement(E.a,{onClick:this.closeFull,style:{padding:"7%",height:"5vh"}},s.a.createElement(k.a,{name:"window restore outline"})):s.a.createElement(E.a,{onClick:this.openFull,style:{padding:"7%",height:"5vh"}},s.a.createElement(k.a,{name:"window maximize outline"}))))))),this.state.industryModalOpen?s.a.createElement(w,{industry:this.props.industry,open:this.state.industryModalOpen,closeModal:this.closeModal}):"",this.state.agencyModalOpen?s.a.createElement(j,{agency:this.props.agency,open:this.state.agencyModalOpen,closeModal:this.closeModal}):"")}}]),t}(n.Component),b=a(448),P=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).considerProject=function(){e.props.considerProject(e.props.email.target),e.props.closeEmail()},e.acceptProject=function(){e.props.acceptProject(e.props.email.target),e.props.closeEmail()},e.hireApplicant=function(){e.props.hireApplicant(e.props.email.target),e.props.closeEmail()},e.dismissApplicant=function(){e.props.dismissApplicant(e.props.email.target),e.props.closeEmail()},e.resolveTask=function(){e.props.resolveTask(null,e.props.email),e.props.closeEmail()},e.generateTask=function(){e.props.generateTask(e.props.email.text,e.props.email.sender.level,e.props.email.sender),e.props.closeEmail()},e.dismissTask=function(){e.props.dismissTask(null,e.props.email),e.props.closeEmail()},e.forward=function(){e.props.closeEmail();var t=e.props.email;t.sent=!0,t.forward=!0,e.props.sendEmail(t)},e.state={reply:!1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e;switch(console.log("email view props",this.props),this.props.email.type){case"task":e=s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{onClick:this.generateTask},"Yeah, let's do it"),s.a.createElement(E.a,{onClick:this.dismissTask},"Sorry, maybe another time"),s.a.createElement(E.a,{onClick:this.dismissTask},s.a.createElement(k.a,{name:"mail forward"})));break;case"request":e=s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{onClick:this.resolveTask},"Sure, no problem"),s.a.createElement(E.a,{onClick:this.dismissTask},"Sorry, maybe another time"),s.a.createElement(E.a,{onClick:this.dismissTask},s.a.createElement(k.a,{name:"mail forward"})));break;case"project":e=s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{onClick:this.considerProject},"Sure, we'll consider you"),s.a.createElement(E.a,{onClick:this.acceptProject},"Yeah, let's do it"),s.a.createElement(E.a,null,"Sorry, maybe another time"),s.a.createElement(E.a,{onClick:this.forward},s.a.createElement(k.a,{name:"mail forward"})));break;case"application":e=s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{onClick:this.hireApplicant},"You're hired!"),s.a.createElement(E.a,{onClick:this.dismissApplicant},"Sorry, maybe another time"),s.a.createElement(E.a,{onClick:this.forward},s.a.createElement(k.a,{name:"mail forward"})));break;default:e=s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{onClick:this.forward},s.a.createElement(k.a,{name:"mail forward"})))}return s.a.createElement(g.a,{open:this.props.open},s.a.createElement(g.a.Header,null,this.props.email.subject,"|",this.props.email.time.hour<10?"0"+this.props.email.time.hour+":00":this.props.email.time.hour+":00"," ",this.props.email.time.day,"/ ",this.props.email.time.month,"/",this.props.email.time.year,s.a.createElement(E.a,{onClick:this.props.closeEmail,style:{float:"right"}},"X")),s.a.createElement(g.a.Content,null,s.a.createElement(b.a,null,this.props.email.sender.name.email),s.a.createElement(b.a,null,"to: you@companyname.com"),s.a.createElement(g.a.Description,null,this.props.email.text)),s.a.createElement(g.a.Header,null,"Reply"),s.a.createElement(g.a.Actions,null,e))}}]),t}(n.Component),R=a(445),S=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).onChange=function(t,a){e.setState({selected:a.value})},e.onSubmit=function(){e.props.closeEmail();var t={subject:e.suggestions[e.state.selected].subject,text:e.suggestions[e.state.selected].subject,sender:{name:{first:"",last:"",full:"me",display:"me",short:"me",email:"me@"}},time:"time",sent:!0,type:"request",subtype:"money",cost:e.suggestions[e.state.selected].cost};e.props.sendEmail(t)},e.state={selected:0},e.suggestions=[{subject:"Hey, let's have a party",text:"Work is stressful. Let's have a party and relax a little!",cost:100,happiness:10},{subject:"Happy hour tonight",text:"First rounds on me at happy hour. Hope to see you all there!",cost:0,happiness:10},{subject:"Let's be more productive",text:"I think we should all try to work harder",cost:0,happiness:-10}],e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.suggestions.map((function(e,t){return{key:t,value:t,text:e.subject}}));return s.a.createElement(g.a,{open:this.props.open,style:{height:"60vh"}},s.a.createElement(g.a.Header,null,"Subject:",s.a.createElement(R.a,{style:{width:"20vw",display:"inline"},value:this.state.selected,fluid:!0,selection:!0,options:e,onChange:this.onChange}),s.a.createElement(E.a,{onClick:this.props.closeEmail,style:{float:"right"}},"X")),s.a.createElement(g.a.Content,null,s.a.createElement(g.a.Description,null,this.suggestions[this.state.selected].text)),s.a.createElement(g.a.Actions,null,s.a.createElement(E.a,{onClick:this.onSubmit},"Send")))}}]),t}(n.Component),x=a(439),I=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).changeVisibleInbox=function(t){e.setState({boxShowing:t})},e.newEmail=function(){e.setState({currentEmail:null,boxShowing:"inbox",openEmail:!1,newEmail:!0})},e.openEmail=function(t){e.props.readEmail(t),e.setState({currentEmail:t,openEmail:!0})},e.closeEmail=function(){e.setState({currentEmail:null,openEmail:!1,newEmail:!1})},e.state={boxShowing:"inbox",openEmail:!1,newEmail:!1,currentEmail:null},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.emails;"inbox"===this.state.boxShowing?t=this.props.emails.filter((function(e){return!e.archived})):"sent"===this.state.boxShowing&&(t=this.props.emails.filter((function(e){return e.sent})));var a=t.length?t.map((function(t,a){return s.a.createElement(v.a,{key:"email_"+a,columns:5,className:"hover",style:{height:"5vh",overflow:"hidden"}},s.a.createElement(v.a.Column,{width:1,onClick:function(){return e.openEmail(a)}},s.a.createElement(k.a,{style:{color:t.read?"gray":"black"},name:"mail"})),s.a.createElement(v.a.Column,{width:3,onClick:function(){return e.openEmail(a)}},t.sender.name.display),s.a.createElement(v.a.Column,{width:3,onClick:function(){return e.openEmail(a)}},t.subject),s.a.createElement(v.a.Column,{width:5,onClick:function(){return e.openEmail(a)}},t.text),s.a.createElement(v.a.Column,{width:2,onClick:function(){return e.openEmail(a)}},t.time.hour<10?"0"+t.time.hour+":00":t.time.hour+":00"," ",t.time.day,"/ ",t.time.month,"/",t.time.year),s.a.createElement(v.a.Column,{width:1,onClick:function(){return e.props.archiveEmail(a)}},"inbox"!==e.state.boxShowing?"":s.a.createElement(k.a,{name:"archive"})))})):"",n=this.state.openEmail?this.props.emails[this.state.currentEmail]:"";return s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{style:{height:"85vh"}},s.a.createElement("h2",null,"Email"),s.a.createElement(E.a,{onClick:this.newEmail},"+"),s.a.createElement(E.a,{onClick:function(){return e.changeVisibleInbox("inbox")}},"inbox"),s.a.createElement(E.a,{onClick:function(){return e.changeVisibleInbox("sent")}},"sent"),s.a.createElement(E.a,{onClick:function(){return e.changeVisibleInbox("all")}},"all"),s.a.createElement("hr",{style:{marginBottom:"5vh"}}),a),this.state.currentEmail?s.a.createElement(P,{open:this.state.openEmail,email:n,closeEmail:this.closeEmail,sendEmail:this.props.sendEmail,addPane:this.props.addPane,acceptProject:this.props.acceptProject,considerProject:this.props.considerProject,hireApplicant:this.props.hireApplicant,dismissApplicant:this.props.dismissApplicant,resolveTask:this.props.resolveTask,generateTask:this.props.generateTask,dismissTask:this.props.dismissTask}):"",this.state.newEmail?s.a.createElement(S,{open:this.state.newEmail,closeEmail:this.closeEmail,sendEmail:this.props.sendEmail}):"")}}]),t}(n.Component),A=a(442),O=a(440),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this))).onSubmit=function(e){a.props.addTask(a.state.newTaskInput)},a.onChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.state={newTaskInput:""},a.urgencyColors=["dimgray","black","yellow","orange","firebrick"],a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;console.log("tasks props",this.props);var t=this.props.tasks.map((function(t,a){return s.a.createElement("div",{key:a,className:"task"},s.a.createElement(E.a,{style:{padding:"3px",borderRadius:"100%"}},s.a.createElement(k.a,{style:{margin:"0",color:e.urgencyColors[t.urgency]},name:"circle"})),s.a.createElement("span",null,t.text),s.a.createElement(E.a,{onClick:function(){return e.props.dismissTask(a)},style:{padding:"3px",borderRadius:"100%"}},s.a.createElement(k.a,{style:{margin:"0"},name:"remove"})))}));return s.a.createElement("div",null,s.a.createElement(b.a,null,"Tasks"),s.a.createElement(A.a,null,s.a.createElement(O.a,{name:"newTaskInput",value:this.state.newTaskInput,onChange:function(t){return e.onChange(t)}}),s.a.createElement(E.a,{onClick:this.onSubmit},"Submit")),s.a.createElement("ul",null,t))}}]),t}(n.Component),T=function(e){return s.a.createElement("div",{className:"personal-icon",style:{backgroundImage:"url('/icons/"+e.icon+".png')"}})},F=function(e){var t=e.projects.map((function(e,t){return{key:e.id,text:e.name,value:t}}));return t.unshift({key:"000",text:"none",value:null}),s.a.createElement(R.a,{placeholder:"Switch Project",fluid:!0,selection:!0,options:t,onChange:e.changeProject})},q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).raiseSalary=function(){var t=e.props.info;t.raiseSalary(),e.props.updateEmployee(t)},e.lowerSalary=function(){var t=e.props.info;t.lowerSalary(),e.props.updateEmployee(t)},e.promote=function(){var t=e.props.info;t.promote(),e.props.updateEmployeeLevel(t)},e.demote=function(){var t=e.props.info;t.demote(),e.props.updateEmployeeLevel(t)},e.changeProject=function(t,a){console.log("changing project to:",a.value);var n=e.props.projects[a.value],s=e.props.info;s.project=n||null,s.projectId=n?n.id:null,e.props.updateEmployeeLevel(s)},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;console.log("employee pprops",this.props);var t=this.props.info.skills.map((function(e,t){return s.a.createElement("li",{key:t},e)})),a=(new y).monify(this.props.info.salary),n=this.props.info.skills.map((function(t,a){return s.a.createElement("li",{key:"skill_"+a},e.props.info.skillset[t])}));return s.a.createElement(v.a,{celled:!0},s.a.createElement(v.a.Row,null,s.a.createElement(v.a.Column,{width:4},s.a.createElement("h2",null,s.a.createElement(T,{icon:this.props.info.icon}),this.props.info.name.full)),s.a.createElement(v.a.Column,{width:4},this.props.info.title),s.a.createElement(v.a.Column,{width:4},"ID:",this.props.info.id),s.a.createElement(v.a.Column,{width:4},5===this.props.info.level?"":"applicant"!==this.props.type?s.a.createElement(E.a,{onClick:function(){return e.props.fireEmployee(e.props.info.id)}},"fire"):s.a.createElement(E.a,{onClick:function(){return e.props.hireApplicant(e.props.info)}},"hire"))),s.a.createElement(v.a.Row,null,s.a.createElement(v.a.Column,{width:4},"Productivity:"),s.a.createElement(v.a.Column,{width:4},this.props.info.stats.productivity),s.a.createElement(v.a.Column,{width:4},"Happiness"),s.a.createElement(v.a.Column,{width:4},this.props.info.stats.happiness)),5===this.props.info.level||"applicant"===this.props.type?"":s.a.createElement(v.a.Row,null,s.a.createElement(v.a.Column,{width:4},"Project: ",this.props.info.projectId?this.props.info.project.name:"unassigned"),s.a.createElement(v.a.Column,{width:4},"Match: ",this.props.info.projectId?this.props.info.match:"n/a"),s.a.createElement(v.a.Column,{width:4},"Change Project:"),s.a.createElement(v.a.Column,{width:4},s.a.createElement(F,{projects:this.props.projects,changeProject:this.changeProject}))),s.a.createElement(v.a.Row,null,s.a.createElement(v.a.Column,{width:4},"Level:"),s.a.createElement(v.a.Column,{width:4},this.props.info.level),s.a.createElement(v.a.Column,{width:4},"applicant"===this.props.type||5===this.props.info.level?"":s.a.createElement(E.a,{onClick:this.promote},"Promote")),s.a.createElement(v.a.Column,{width:4},"applicant"===this.props.type||5===this.props.info.level?"":s.a.createElement(E.a,{onClick:this.demote},"Demote"))),s.a.createElement(v.a.Row,null,s.a.createElement(v.a.Column,{width:4},"Salary:"),s.a.createElement(v.a.Column,{width:4},a),s.a.createElement(v.a.Column,{width:4},"applicant"===this.props.type||5===this.props.info.level?"":s.a.createElement(E.a,{onClick:this.raiseSalary},"Raise")),s.a.createElement(v.a.Column,{width:4},"applicant"===this.props.type||5===this.props.info.level?"":s.a.createElement(E.a,{onClick:this.lowerSalary},"Lower"))),s.a.createElement(v.a.Row,null,s.a.createElement(v.a.Column,{width:4},"Skills:"),s.a.createElement(v.a.Column,{width:4},t),s.a.createElement(v.a.Column,{width:4},n),s.a.createElement(v.a.Column,{width:4})),s.a.createElement(v.a.Row,null))}}]),t}(n.Component),D=a(441);var B=function(e){console.log("project props",e);var t=(new y).monify(e.info.budget),a=e.info.requirements.required.map((function(e,t){return s.a.createElement("li",{key:"required_"+t},e)})),n=e.info.requirements.optional.map((function(e,t){return s.a.createElement("li",{key:"optional_"+t},e)})),o=e.info.workers.map((function(t){var a=t.skills.map((function(e,a){return s.a.createElement(s.a.Fragment,{key:t.id+"_skill_"+a},s.a.createElement(v.a.Column,{width:2},e),s.a.createElement(v.a.Column,{width:1},t.skillset[e]))}));return s.a.createElement(v.a,{columns:4,key:t.id},s.a.createElement(v.a.Column,{width:4,onClick:function(){return e.addPane("employee",t)},className:"hover"},t.name.display),a,s.a.createElement(v.a.Column,{width:2},s.a.createElement(E.a,{onClick:function(){return a=t,console.log("removing employee from project",a),a.projectId=null,a.project.workers=a.project.workers.filter((function(e){return e.id!==a.id})),void e.updateEmployee(a);var a}},"Remove")))})),r=e.employees.filter((function(t){return 5!==t.level&&t.projectId!==e.info.id})).map((function(e,t){return{key:e.id,text:e.name.full+": "+e.skilltext,value:t}}));return s.a.createElement("div",null,s.a.createElement("h2",null,e.info.name),s.a.createElement("h3",null,"Status:",e.info.accepted?"active":"not accepted",e.info.accepted?"":s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{onClick:function(){return e.acceptProject(e.info)}},"accept"),s.a.createElement(E.a,{onClick:function(){return e.rejectProject(e.info.id)}},"reject"))),s.a.createElement(v.a,null,s.a.createElement(v.a.Column,{width:5,style:{textAlign:"center"}},"Percent Complete",s.a.createElement(D.a,{style:{parent:{maxWidth:"100%"}},data:[{x:" ",y:e.info.percentComplete},{x:" ",y:100-e.info.percentComplete}]})),s.a.createElement(v.a.Column,{width:5,style:{textAlign:"center"}},"Time Remaining",s.a.createElement(D.a,{style:{parent:{maxWidth:"100%"}},data:[{x:" ",y:e.info.estimatedMonthsToCompletion},{x:" ",y:e.info.monthsActive}]}))),s.a.createElement(v.a,null,s.a.createElement(v.a.Column,{width:4},s.a.createElement(v.a.Row,null,"Percent Complete"),s.a.createElement(v.a.Row,null,"Productivity"),s.a.createElement(v.a.Row,null,"Client Satisifaction")),s.a.createElement(v.a.Column,{width:1},s.a.createElement(v.a.Row,null,e.info.percentComplete),s.a.createElement(v.a.Row,null,e.info.productivity,"%"),s.a.createElement(v.a.Row,null,e.info.satisfaction,"%")),s.a.createElement(v.a.Column,{width:4},s.a.createElement(v.a.Row,null,"Est. months"),s.a.createElement(v.a.Row,null,"Months left"),s.a.createElement(v.a.Row,null,"Budget"),s.a.createElement(v.a.Row,null,"Paid In Installments?")),s.a.createElement(v.a.Column,{width:1},s.a.createElement(v.a.Row,null,e.info.estimatedMonthsToCompletion),s.a.createElement(v.a.Row,null,e.info.monthsToCompletion),s.a.createElement(v.a.Row,null,t),s.a.createElement(v.a.Row,null,e.info.payInInstallments?"yes":"no"))),s.a.createElement("h2",null,"Requirements"),s.a.createElement(v.a,{columns:2},s.a.createElement(v.a.Column,{width:4},s.a.createElement(v.a.Row,null,"Sector"),s.a.createElement(v.a.Row,null,"Required:")),s.a.createElement(v.a.Column,{width:4},s.a.createElement(v.a.Row,null,e.info.sector),a),s.a.createElement(v.a.Column,{width:4},s.a.createElement(v.a.Row,null,"Type"),s.a.createElement(v.a.Row,null,"Optional:")),s.a.createElement(v.a.Column,{width:4},s.a.createElement(v.a.Row,null,e.info.type),n)),s.a.createElement("h2",null,"Personnel"),s.a.createElement(k.a,{name:"user"}),s.a.createElement(R.a,{placeholder:"Add Employee",fluid:!0,selection:!0,options:r,onChange:function(t,a){var n=e.employees[a.value],s=e.info;s.workers.push(n),n.projectId=e.info.id,n.project=s,console.log("adding employee to project",a.value,n),e.updateEmployee(n)}}),s.a.createElement(v.a,{columns:1},o),e.info.accepted?s.a.createElement(E.a,{onClick:function(){return e.withdrawProject(e.info.id)}},"withdraw from project"):"")},H=a(244),N=a(447),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).getPane=function(e,t){switch(e){case"project":return s.a.createElement(B,Object.assign({},t,{addPane:a.props.addPane,acceptProject:a.props.acceptProject,rejectProject:a.props.rejectProject,withdrawProject:a.props.withdrawProject,updateEmployee:a.props.updateEmployee,employees:a.props.employees,projects:a.props.projects}));case"applicant":return s.a.createElement(q,Object.assign({},t,{hireApplicant:a.props.hireApplicant,addPane:a.props.addPane}));case"employee":return s.a.createElement(q,Object.assign({},t,{updateEmployee:a.props.updateEmployee,updateEmployeeLevel:a.props.updateEmployeeLevel,fireEmployee:a.props.fireEmployee,addPane:a.props.addPane,projects:a.props.projects}));case"email":return s.a.createElement(I,{emails:a.props.emails,addPane:a.props.addPane,readEmail:a.props.readEmail,archiveEmail:a.props.archiveEmail,considerProject:a.props.considerProject,acceptProject:a.props.acceptProject,hireApplicant:a.props.hireApplicant,dismissApplicant:a.props.dismissApplicant,resolveTask:a.props.resolveTask,dismissTask:a.props.dismissTask,generateTask:a.props.generateTask,sendEmail:a.props.sendEmail});case"tasks":return s.a.createElement(M,{tasks:a.props.tasks,addPane:a.props.addPane,resolveTask:a.props.resolveTask,dismissTask:a.props.dismissTask,generateTask:a.props.generateTask});default:return null}},a.getPaneName=function(e){switch(e.type){case"applicant":case"employee":return e.info.name.display;case"project":return e.info.name;case"email":return"email ("+a.props.emails.length+")";case"tasks":return"tasks ("+a.props.tasks.length+")";default:return e.type}},a.buildPane=function(e,t){var n=a.getPane(e.type,e),o=a.getPaneName(e);return{menuItem:s.a.createElement(H.a.Item,{key:e.type+"-"+e.id,onClick:function(){return a.props.updatePane(t)}},e.pinned?s.a.createElement(k.a,{name:"map pin"}):"",o,e.pinned?"":s.a.createElement("button",{onClick:function(){return a.props.removePane(t)}},"X")),pinned:e.pinned,render:function(){return s.a.createElement(N.a.Pane,{fluid:"true"},n)}}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.panes.length;t++){var a=this.buildPane(this.props.panes[t],t);e.push(a)}return s.a.createElement(N.a,{style:{width:"100%",height:"90vh",backgroundColor:"whitesmoke",overflowX:"scroll"},panes:e,activeIndex:this.props.activePane})}}]),t}(n.Component),G=s.a.createContext({open:!1,openModal:function(){}});function Y(e){var t=e.employees.map((function(t){return s.a.createElement("div",{key:t.id,className:"hover"},s.a.createElement(v.a,{celled:!0,onClick:function(){return e.addPane("employee",t)}},s.a.createElement(v.a.Row,{columns:3,style:{padding:"0"}},s.a.createElement(v.a.Column,{width:6},s.a.createElement(T,{icon:t.icon}),t.name.display,5===t.level?"*":""),s.a.createElement(v.a.Column,{width:7},t.title),s.a.createElement(v.a.Column,{width:1},t.level)),s.a.createElement(v.a.Row,{columns:3,style:{padding:"0"}},s.a.createElement(v.a.Column,{width:10},t.projectId?t.project.shortName:""),s.a.createElement(v.a.Column,{width:2},t.onVacation?"0":t.stats.productivity,"%"),s.a.createElement(v.a.Column,{width:1},t.stats.happiness))))})),a=e.projects.map((function(t){if(t.accepted||t.considering)return s.a.createElement(v.a.Row,{className:"hover",columns:4,key:t.id,onClick:function(){return e.addPane("project",t)}},s.a.createElement(v.a.Column,{width:7},t.name),s.a.createElement(v.a.Column,{width:1},s.a.createElement(k.a,{name:t.accepted?"check":"question"})),s.a.createElement(v.a.Column,{width:1},t.workers.length),s.a.createElement(v.a.Column,{width:1},t.productivity,"%"),s.a.createElement(v.a.Column,{width:1},t.monthsToCompletion),s.a.createElement(v.a.Column,{width:1},t.percentComplete,"%"))})),n=e.applicants.map((function(t){return s.a.createElement(v.a.Row,{className:"hover",columns:3,key:t.id},s.a.createElement(v.a.Column,{width:4,onClick:function(){return e.addPane("applicant",t)}},t.name.display),s.a.createElement(v.a.Column,{width:10,onClick:function(){return e.addPane("applicant",t)}},t.skills.map((function(e){return s.a.createElement("span",{key:t.id+"_"+e},e,"/")}))),s.a.createElement(v.a.Column,{width:2},s.a.createElement("button",{onClick:function(){return e.dismissApplicant(t.id)}},"x")))})),o=[{menuItem:s.a.createElement(H.a.Item,{style:{padding:"1vh 1vw"}},"Employees"),render:function(){return s.a.createElement(N.a.Pane,{style:{height:"85vh",overflowY:"scroll",backgroundColor:"gainsboro"}},t)}},{menuItem:s.a.createElement(H.a.Item,{style:{padding:"1vh 1vw"}},"Applicants"),render:function(){return s.a.createElement(N.a.Pane,{style:{height:"85vh",overflowY:"scroll",backgroundColor:"gainsboro"}},s.a.createElement(v.a,{columns:1}," ",n))}},{menuItem:s.a.createElement(H.a.Item,{style:{padding:"1vh 1vw"}},"Projects"),render:function(){return s.a.createElement(N.a.Pane,{style:{height:"85vh",overflowY:"scroll",backgroundColor:"gainsboro"}},s.a.createElement(v.a,{columns:1},s.a.createElement(v.a.Row,{columns:4,style:{borderBottom:".5px solid dimgray"}},s.a.createElement(v.a.Column,{width:7}),s.a.createElement(v.a.Column,{width:1}),s.a.createElement(v.a.Column,{width:1},s.a.createElement(k.a,{name:"user"})),s.a.createElement(v.a.Column,{width:1},s.a.createElement(k.a,{name:"fire"})),s.a.createElement(v.a.Column,{width:1},s.a.createElement(k.a,{name:"calendar alternate"})),s.a.createElement(v.a.Column,{width:1},s.a.createElement(k.a,{name:"percent"}))),a))}}];return s.a.createElement("aside",null,s.a.createElement("div",{style:{backgroundColor:"white",height:"14vh",paddingTop:"3vh"}},s.a.createElement("h1",{style:{color:"black"}},"agency")),s.a.createElement(N.a,{panes:o}))}var W=function(e){return s.a.createElement(G.Consumer,null,(function(t){var a=t.open,n=t.openModal;return s.a.createElement(Y,Object.assign({},e,{open:a,openModal:n}))}))},_=a(444),J=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).open=function(){e.setState({open:!0})},e.close=function(){e.setState({open:!1})},e.onChange=function(t){e.setState({text:t.target.value})},e.onSubmit=function(){e.props.addMessage(e.state.text)},e.state={open:!1,text:""},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.messages.map((function(e){return s.a.createElement("div",null,e.sender,": ",e.text)}));return s.a.createElement("div",{style:{overflow:"hidden"},className:this.state.open?"message message-open":"message message-closed"},s.a.createElement(b.a,{style:{position:"fixed",width:"100%",backgroundColor:"dimgray"}},s.a.createElement(E.a,{onClick:this.state.open?this.close:this.open,style:{right:"15px",position:"fixed",padding:"4px"}},"X")),this.state.open?s.a.createElement(s.a.Fragment,null,s.a.createElement(_.a,{style:{height:"50vh",marginTop:"-20vh",overflowY:"scroll",display:"flex",flexDirection:"column",justifyContent:"flex-end"}},e),s.a.createElement(O.a,{fluid:!0,placeholder:"...",value:this.state.text,onChange:this.onChange})):"")}}]),t}(n.Component);function V(){this.score=0,this.happiness=95,this.reputation=75}V.prototype.augmentScore=function(e){this.score+=e},V.prototype.augmentHappiness=function(){this.happiness+1<=100&&(this.happiness+=1)},V.prototype.decrementHappiness=function(){this.happiness-1>=0&&(this.happiness-=1)},V.prototype.augmentReputation=function(){this.reputation+1<=100&&(this.reputation+=1),this.augmentScore(5)},V.prototype.decrementReputation=function(){this.reputation-1>=0&&(this.reputation-=1)};var z=V,X=function(){function e(t,a,n,s,o,r,l,c,p){var m=this;Object(i.a)(this,e),this.debit=function(e){m.coh-=e},this.calculateAgencyParameters=function(e,t){console.log("updating agency info");for(var a=0,n=0,s=0;s<e.length;s++)a+=e[s].salary;for(var o=0;o<t.length;o++){if(t[o].accepted)n+=t[o].calculatePayment()}var r=e.length*this.yearsInOperation,i=Math.floor(a/12);this.monthlyExpenditures=i+Math.floor(r/12),this.monthlyProfit=n},console.log("agency running"),this.name=t||"Web Brands",this.coh=a||1e5,this.maxSalary=n||3e5,this.monthlyExpenditures=s||3e5,this.monthlyProfit=o||1e5,this.numActiveProjects=3,this.yearsInOperation=r||1,this.startYear=l||(new Date).getFullYear()-1,this.reputation=c||50,this.experience=p||0,this.completedProjects=0}return Object(l.a)(e,[{key:"monthlyUpdate",value:function(e){console.log("end of month!");for(var t=0,a=0;a<e.length;a++)t+=e[a].calculatePayment();return e?this.coh=this.coh+t-this.monthlyExpenditures:this.autoUpdate(),e}},{key:"autoUpdate",value:function(){}},{key:"completeProject",value:function(e){this.completedProjects+=1}}]),e}();function Q(){this.icons=["compass","coffee","cut","sitemap"],this.helpers=new y}Q.prototype.generateRandomAgency=function(e){var t=this.randomAgencyName();return new X(t)},Q.prototype.randomAgencyName=function(){var e=Math.random(),t=this.helpers.RandomFromArray(["Inspire","Revolution","Energize","Creative"]),a=this.helpers.RandomFromArray(["Digital","Software","Intelligence","Solutions"]);return e<.5?t+" "+a:a+" "+t};var U=Q,$=function(){function e(t,a,n,s,o,r,l,c,p,m,u,h,d){Object(i.a)(this,e),this.id=t,this.name=a,this.icon=n,this.gender=s,this.age=o,this.level=r,this.title=l,this.focus=c,this.skills=p,this.skillset=m,this.stats=u,this.salary=h,this.quit=!1,this.project=d,this.projectId=d?d.id:null,this.match=null,this.currentRequest=!1,this.daysWaitedOnRequest=0,this.onVaction=!1,this.vacationDaysRemaining=0}return Object(l.a)(e,[{key:"update",value:function(){console.log("updating employee!");var e=Math.random();if(this.onVaction)this.vacationDaysRemaining<=0?this.onVaction=!1:this.vacationDaysRemaining-=1;else if(this.currentRequest)this.daysWaitedOnRequest>=10?(this.currentRequest=!1,this.daysWaitedOnRequest=0):(this.stats.happiness-=this.daysWaitedOnRequest,this.stats.productivity-=this.daysWaitedOnRequest);else{e<.1?this.stats.happiness-=1:e>.9&&(this.stats.happiness+=1),Math.random()<.1?this.stats.productivity-=1:e>.9&&(this.stats.productivity+=1)}this.stats.happiness<5&&(this.quit=!0)}},{key:"vacation",value:function(e){console.log("going on vacation!"),this.onVaction=!0,this.vacationDaysRemaining=e}},{key:"promote",value:function(){this.level+=1,this.stats.happiness=this.stats.happiness+10>=100?100:this.stats.happiness+10,this.stats.productivity=this.stats.productivity+1>=10?10:this.stats.productivity+1}},{key:"demote",value:function(){this.level-=1,this.stats.happiness=this.stats.happiness-10<=0?0:this.stats.happiness-10,this.stats.productivity=this.stats.productivity-1<=0?0:this.stats.productivity-1}},{key:"raiseSalary",value:function(){this.salary+=1e4,this.stats.happiness=this.stats.happiness+10>=100?100:this.stats.happiness+10,this.stats.productivity=this.stats.productivity+1>=10?10:this.stats.productivity+1}},{key:"lowerSalary",value:function(){this.salary-=1e4,this.stats.happiness=this.stats.happiness-10<=0?0:this.stats.happiness-10,this.stats.productivity=this.stats.productivity-1<=0?0:this.stats.productivity-1}},{key:"makeRequest",value:function(){this.currentRequest=!0}},{key:"requestSatisfied",value:function(){console.log("thanks, my request was satisified"),this.stats.happiness=this.stats.happiness+10>=100?100:this.stats.happiness+10}},{key:"requestDenied",value:function(){console.log("that sucks, my request was denied"),this.stats.happiness=this.stats.happiness-10<=0?0:this.stats.happiness-10}},{key:"satisfy",value:function(e){this.stats.happiness=this.stats.happiness+e>=100?100:this.stats.happiness+e}},{key:"updateSkills",value:function(e){}},{key:"printInfo",value:function(){console.log("employee info"),console.log(this.name),console.log("gender:",this.gender),console.log("age:",this.age),console.log("level:",this.level),console.log("job",this.job),console.log("stats:",this.stats),console.log("salary","$"+this.salary)}}]),e}();var K=function(e,t){for(var a=0,n=Object.keys(e.skillset),s=0;s<n.length;s++)try{t.requirements.required.includes(n[s])&&(a+=1),t.requirements.optional.includes(n[s])&&(a+=.5)}catch(o){return 0}return a};function Z(){this.employeeId=100000001,this.maxLeaders=2,this.currentLeaders=0,this.usedNames=[],this.femaleIcons=["female-icon-1"],this.maleIcons=["male-icon-1"],this.neutralIcons=["male-icon-1"]}Z.prototype.generateStartEmployees=function(e,t,a){console.log("generating start employees");var n={};a=a.filter((function(e){return e.accepted}));for(var s={productivity:0,happiness:0,salary:0},o=[],r=0;r<t;r++){var i=this.generateRandomEmployee(!1,null,5);s.productivity+=i.stats.productivity,s.happiness+=i.stats.happiness,s.salary+=i.salary,o.push(i)}for(var l=0;l<e;l++){var c=this.randomFromArray(a),p=this.generateRandomEmployee(!1,c);s.productivity+=p.stats.productivity,s.happiness+=p.stats.happiness,s.salary+=p.salary;var m=K(p,c);p.match=m,c.workers.push(p),c.calculateProductivity(),o.push(p),p.projectId&&(n[p.projectId]||(n[p.projectId]=[]),n[p.projectId].push(p))}for(var u in s)s[u]=Math.floor(s[u]/e);return{employees:o,employeeStats:s,startProjects:a,employeesByProject:n}},Z.prototype.generateEmployeeID=function(){var e=this.employeeId;return this.employeeId+=1,e},Z.prototype.generateRandomEmployee=function(e,t,a){var n=e?null:this.generateEmployeeID(),s=this.randomGender(),o="male"===s?this.randomFromArray(this.maleIcons):"female"===s?this.randomFromArray(this.femaleIcons):this.randomFromArray(this.neutralIcons),r=this.randomName(s),i=this.randomBetweenInts(23,60),l=this.currentLeaders>=2?4:5,c=a||this.randomBetweenInts(1,l);3===c&&(this.currentLeaders+=1);var p=this.randomSkillset(c),m=this.randomStats(),u=1e4*this.randomBetweenInts(4,4+2*c);return new $(n,r,o,s,i,c,p.title,p.focus,p.skills,p.skillSet,m,u,t)},Z.prototype.randomSkillset=function(e){for(var t={ux:["graphic designer","ux designer","ui designer"],frontend:["jr frontend dev","frontend dev","sr frontend dev"],backend:["jr backend dev","backend dev","sr backend dev"],datascience:["jr data analyst","data analyst","sr data analyst"],management:["cfo","cto","ceo"]},a=Object.keys(t),n=5===e?"management":this.randomFromArray(a),s=this.randomFromArray(a),o=this.randomSkills(n,s),r=[],i={},l=0;l<o.length;l++)l<=2&&r.push(o[l]),i[o[l]]=this.randomBetweenInts(0,5+e);return{focus:n,skills:r,skillSet:i,title:5===e?this.randomFromArray(t[n]):t[n][e-1]}},Z.prototype.randomSkills=function(e,t){var a={ux:["design","css","wireframing"],frontend:["css","html","jQuery","javascript"],backend:["javascript","express","python","sql"],datascience:["python","matplotlib","tensorflow"],management:["agile","kanban","motivation"]},n=[];return e!==t?(n.push(a[e][0]),n.push(a[e][1]),n.push(a[e][2]),n.push(a[t][0])):n=a[e],n},Z.prototype.randomStats=function(){return{productivity:this.randomBetweenInts(1,101),happiness:this.randomBetweenInts(30,101),creativity:this.randomBetweenInts(1,101),accuracy:this.randomBetweenInts(1,101),curiosity:this.randomBetweenInts(1,101),dedication:this.randomBetweenInts(1,101)}},Z.prototype.randomGender=function(){return this.randomFromArray(["male","female","neutral"])},Z.prototype.randomName=function(e){var t,a=["Scott","Trevor","Sanjay","John","Julio","Adam","Bill","Dave","Deangelo","Eric"],n=["Jill","Nancy","Maria","Ann","Sara","Julia","Bella","Simone","Angela","Kendra","Erica"];if("male"===e)t=this.randomFromArray(a);else if("female"===e)t=this.randomFromArray(n);else{var s=a.concat(n);t=this.randomFromArray(s)}var o=this.randomFromArray(["Jones","Paul","Smith","Johnson","Gupta","Sanchez","Saul","Lopez","Gupta","Wang","Devi","Liu","Chen","Khan","Ali","Johannes","Nguyen","Kim","Sato"]);return{first:t,last:o,full:t+" "+o,display:t.charAt(0)+". "+o,short:t+" "+o.charAt(0)+".",email:t.charAt(0)+o+"@"}},Z.prototype.randomFromArray=function(e){return e[Math.floor(Math.random()*e.length)]},Z.prototype.randomBetweenInts=function(e,t){return Math.floor(Math.random()*(t-e))+e};var ee=Z,te=function(){function e(t,a,n,s,o){Object(i.a)(this,e),this.name=t,this.shortName=a,this.sector=n,this.icon=s,this.activeProject=null,this.completedProjects=0,this.satisfaction=50,this.quit=!1,this.rep=o}return Object(l.a)(e,[{key:"completeProject",value:function(){this.completedProjects+=1,this.activeProject=null}},{key:"cancelProject",value:function(){this.activeProject=null,0===this.satisfaction&&(this.quit=!0)}}]),e}();function ae(){this.usedNames=[],this.icons=["arrows alternate","chart line","cloud download","location arrow","random","share square","bullhorn","certificate"],this.randomEmployee=new ee}ae.prototype.generateRandomCompany=function(){var e=Object.keys(this.projectSectors),t=this.randomFromArray(e),a=this.randomFromArray(this.icons),n=this.randomCompanyName(),s=this.randomEmployee.generateRandomEmployee(!1,null);return new te(n.name,n.shortName,t,a,s)},ae.prototype.randomCompanyName=function(){var e=Math.random(),t=this.randomFromArray(["Inspire","Revolution","Domain"]),a=this.randomFromArray(["Digital","Software","Intelligence"]);return{name:e<.5?t+" "+a:a+" "+t,shortName:t[0]+a[0]}},ae.prototype.projectSectors={healthcare:{minCost:2,maxCost:5,minDesign:2,maxDesign:5,firstwords:[],secondwords:[]},finance:{minCost:5,maxCost:10,minDesign:2,maxDesign:5,firstwords:[],secondwords:[]},housing:{minCost:2,maxCost:5,minDesign:2,maxDesign:5,firstwords:[],secondwords:[]},"local business":{minCost:1,maxCost:3,minDesign:2,maxDesign:5,firstwords:[],secondwords:[]}},ae.prototype.randomFromArray=function(e){return e[Math.floor(Math.random()*e.length)]};var ne=ae,se=function(){function e(t,a,n,s,o,r,l,c,p,m,u,h){Object(i.a)(this,e),this.id=t,this.company=a,this.name=n,this.shortName=s,this.sector=o,this.type=r,this.accepted=l,this.considering=l,this.requirements=c,this.budget=p,this.totalPaid=0,this.payment=0,this.payInInstallments=!0,this.estimatedMonthsToCompletion=m,this.monthsToCompletion=m,this.monthsActive=u||0,this.percentComplete=h||0,this.onTime=!0,this.workers=[],this.productivity=0,this.complete=!1,this.satisfaction=100-(this.estimatedMonthsToCompletion-this.monthsActive)}return Object(l.a)(e,[{key:"addWorker",value:function(e){this.workers.push(e),this.calculateProductivity()}},{key:"removeWorker",value:function(e){this.workers.filter((function(t){return e.id!==t.id})),this.calculateProductivity()}},{key:"calculateProductivity",value:function(e){console.log("calcluating prod:"),console.log(e);var t=0;if(e&&e.length){for(var a=0;a<e.length;a++)e[a].onVacation||(t+=e[a].stats.productivity*e[a].match);t=Math.floor(t/this.workers.length)}this.percentComplete=this.percentComplete+t/30,this.productivity=t;var n=this.estimatedMonthsToCompletion*t/this.estimatedMonthsToCompletion;console.log("on time calc",n),this.onTime=n}},{key:"calculatePayment",value:function(){return this.monthsActive+=1,this.payment=0,this.monthsActive>=this.estimatedMonthsToCompletion||this.percentComplete>=100?100===this.percentComplete?(console.log("project complete"),this.complete=!0,this.payInInstallments?this.payment=Math.floor(this.budget/this.estimatedMonthsToCompletion):this.payment=this.budget):(console.log("you're still not done!?!?!"),this.satisfaction-=10):this.payInInstallments&&(console.log("paying in installments!"),this.payment=Math.floor(this.budget/this.estimatedMonthsToCompletion),this.satisfaction+=1),this.payment}},{key:"printInfo",value:function(){console.log("project info"),console.log(this.company),console.log(this.name),console.log("sector",this.sector),console.log("type",this.type),console.log("requirements",this.requirements),console.log("budget",this.budget),console.log("estimatedMonthsToCompletion",this.estimatedMonthsToCompletion)}}]),e}();function oe(){this.projectId=101}oe.prototype.generateRandomProject=function(e,t){var a=this.projectId;this.projectId+=1;var n=Object.keys(this.projectSectors),s=this.randomFromArray(n),o=Object.keys(this.projectTypes),r=this.randomFromArray(o),i=e.name+" "+r,l=e.shortName+" "+r,c=this.projectTypes[r],p=t?this.randomBetweenInts(4,8):this.randomBetweenInts(6,18),m=t?Math.floor(this.randomBetweenInts(0,p-2)):0,u=Math.floor(m/p*100),h=this.randomBetweenInts(5,250);return new se(a,e,i,l,s,r,t,c,1e3*h,p,m,u)},oe.prototype.projectSectors={healthcare:{minCost:2,maxCost:5,minDesign:2,maxDesign:5,firstwords:[],secondwords:[]},finance:{minCost:5,maxCost:10,minDesign:2,maxDesign:5,firstwords:[],secondwords:[]},housing:{minCost:2,maxCost:5,minDesign:2,maxDesign:5,firstwords:[],secondwords:[]},"local business":{minCost:1,maxCost:3,minDesign:2,maxDesign:5,firstwords:[],secondwords:[]}},oe.prototype.projectTypes={website:{required:["html","css","javascript"],optional:["jQuery"]},"web app":{required:["html","css","javascript"],optional:["jQuery"]},"mobile app":{required:["html","css","javascript"],optional:["jQuery"]},"data platform":{required:["python","sql","javascript"],optional:["jQuery"]}},oe.prototype.randomFromArray=function(e){return e[Math.floor(Math.random()*e.length)]},oe.prototype.randomBetweenInts=function(e,t){return Math.floor(Math.random()*(t-e))+e};var re=oe;function ie(){this.clients=[],this.competitors=[],this.startCompetitors=2,this.maxCompetitors=5,this.randomCompany=new ne,this.randomAgency=new U,this.randomProject=new re,this.awake()}ie.prototype.awake=function(){for(var e=0;e<this.startCompetitors;e++){var t=this.randomAgency.generateRandomAgency();this.competitors.push(t)}for(var a=0;a<this.startCompetitors;a++){var n=this.randomCompany.generateRandomCompany();this.clients.push(n)}},ie.prototype.monthlyUpdate=function(){for(var e=0;e<this.competitors.length;e++);},ie.prototype.newProject=function(e){var t;return Math.random()<.2||!this.competitors.length?(t=this.randomCompany.generateRandomCompany(),this.clients.push(t)):t=this.clients[Math.floor(Math.random()*this.clients.length)],this.randomProject.generateRandomProject(t,e)};var le=ie;function ce(){this.helpers=new y}ce.prototype.generateRandomEmail=function(e,t,a,n){var s=Math.random();return s<.1?e.stats.happiness>60||e.stats.happiness<30?this.bossEmail(e):this.generateEmail(null,t,t,n):s<.5&&s>.1?t.stats.happiness>80?this.happyEmail(t,n):t.stats.happiness<40?this.complaintEmail(t,a,n):this.requestEmail(t,n):this.generateEmail(null,t,a,n)},ce.prototype.generateEmail=function(e,t,a,n){var s;console.log("gen email"),console.log(n);var o=t;switch(e){case"start":s="Hey, thanks for taking over the personnel decisions. Sure it shouldn't be too hard!";break;case"applicant":return this.applicantEmail(t,n);case"project":return this.projectEmail(t,n);case"complete":return this.completeEmail(t,a,n);case"welcome":return this.welcomeEmail(t,n);case"quit":return this.quitEmail(t,n);default:return this.junkEmail(t,n)}return{subject:"Hello",text:s,sender:o,time:n,read:!1}},ce.prototype.junkEmail=function(e,t){var a=["Happy Birthday to "+e.name.first,"Hike this weekend"],n=["Hey, it's "+e.name.display+" 's birthday","Hey, anybody up for a hike this weekend?"],s=this.helpers.RandomBetweenInts(0,n.length);return{subject:a[s],text:n[s],sender:e,time:t,type:"request",subtype:"junk",read:!1,importance:0}},ce.prototype.requestEmail=function(e,t){var a=["Could we get a new coffee machine?","I need some time off"],n=this.helpers.RandomBetweenInts(0,a.length);return{subject:this.helpers.RandomFromArray(["Request","Please help","Just a thought"]),text:a[1],sender:e,time:t,read:!1,accept:!0,type:"request",subtype:["money","time"][n],importance:e.level,target:e}},ce.prototype.complaintEmail=function(e,t,a){var n=["I don't like sitting next to "+t.name.full+". Can I move desks?"];return{subject:this.helpers.RandomFromArray(["A complaint","I'm not happy","We need to talk","This sucks"]),text:this.helpers.RandomFromArray(n),sender:e,time:a,read:!1,accept:!0,type:"task",importance:e.level,target:[e,t]}},ce.prototype.applicantEmail=function(e,t){console.log("app email"),console.log(t);var a=["Hello, my name is "+e.name.display+" and I would like to apply for a position at your company. Attached, pleased find my resume and cover letter","Hi there, I saw your post advertising and open position. Thanks for considering me!","Regards, attached please find my resume for your positing of an open position. Thank you for your consideration"];return{subject:this.helpers.RandomFromArray(["Application","Open Position","Your job posting","I need a job"]),text:this.helpers.RandomFromArray(a),sender:e,time:t,read:!1,consider:!0,accept:!1,target:e,type:"application",importance:3}},ce.prototype.projectEmail=function(e,t){return{subject:"New project for "+e.company.name,text:"Does your company have the bandwidth to complete a new "+e.type+" for "+e.company.name+"?",sender:e.company.rep,time:t,read:!1,consider:!0,target:e,type:"project",importance:4}},ce.prototype.completeEmail=function(e,t){return{subject:"Project complete for "+e.company.name,text:"Congratulations on finishing the "+e.type+" for "+e.company.name+"?",sender:e.company.rep,time:t,read:!1,consider:!0,target:e}},ce.prototype.welcomeEmail=function(e,t){return{subject:"Thanks again",text:"Hey, thanks for taking over the personnel decisions. Sure it shouldn't be too hard!",sender:e,time:t,read:!1}},ce.prototype.quitEmail=function(e,t){var a=["I quit. Sincerely, "+e.name.display,"Sorry, I just hate it here. I quit. "];return{subject:this.helpers.RandomFromArray(["I quit","I'm out","Notice of resignation","Can't take it"]),text:this.helpers.RandomFromArray(a),sender:e,time:t,read:!1,importance:e.level}},ce.prototype.happyEmail=function(e,t){var a=["Great news!, "+e.name.display+" is having a baby!","Hey guys, "+e.name.display+" bachelor party is this weekend!"];return{subject:this.helpers.RandomFromArray(["Great news","Announcement","Let's celebrate"]),text:this.helpers.RandomFromArray(a),sender:e,time:t,read:!1}},ce.prototype.bossEmail=function(e,t){return{subject:this.helpers.RandomFromArray(["I'm not happy","Things are going great"]),text:this.helpers.RandomFromArray(["Boss email"]),sender:e,time:t,read:!1,type:"boss",importance:5}},ce.prototype.fireEmail=function(e,t){return{subject:this.helpers.RandomFromArray(["This isn't working out"]),text:this.helpers.RandomFromArray(["Sorry things didn't work out, but I think you'll be happier at another company."]),sender:e,time:t,read:!1}};var pe=ce;function me(){console.log("random message running"),this.helpers=new y}me.prototype.generateRandomMessage=function(e,t,a){if(e.stats.happiness>60||e.stats.happiness<30)return this.bossEmail();t.stats.happiness},me.prototype.generateMessage=function(e,t,a,n){return this.junkMessage(t,a)},me.prototype.junkMessage=function(e,t){var a=this.helpers.RandomFromArray(["Hey guys there's cake in the break room","Anyone have a spare phone charger?","I found someone's phone charger","Anyone up for a hike this weekend?","Who's got spare bandwidth?"]);return this.message(t.name.display,a,e,!1)},me.prototype.message=function(e,t,a,n){return{sender:e,text:t,time:a,starred:n}};var ue=me,he=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).start=function(t,a){console.log("starting game");var n=new le,s=new X,o=[],r=[],i=[],l=(new Date).getFullYear()-1,c={hour:e.state.hour,day:e.state.day,month:e.state.month,year:l,startYear:l},p=n.newProject(!1),m=e.randomEmailGenerator.generateEmail("project",p,null,c);i.push(m),a=a||3;for(var h=0;h<a;h++){var d=e.randomEmployeeGenerator.generateRandomEmployee();r.push(d);var y=e.randomEmailGenerator.generateEmail("applicant",d,null,c);i.push(y);var f=n.newProject(!0);o.push(f)}for(var g=e.randomEmployeeGenerator.generateStartEmployees(7,1,o),E=0;E<o.length;E++)o[E].calculateProductivity(g.employeesByProject[o[E].id]);var v=e.sortEmployees(g.employees),w=e.randomEmailGenerator.generateEmail("start",v[0],null,c);s.calculateAgencyParameters(g.employees,o);var j=e.createTask("hire a new employee",3,"hire");e.setState({industry:n,agency:s,employees:v,employeeStats:g.employeeStats,projects:[p].concat(Object(u.a)(g.startProjects)),applicants:r,emails:[].concat(i,[w]),tasks:[j],startYear:l})},e.startTimer=function(){console.log("starting timer"),e.setState({timeRunning:!0}),e.interval=setInterval((function(){e.update()}),e.state.hourLength)},e.update=function(){var t=e.state.agency,a=e.state.player,n=e.state.employeeStats,s=e.state.hour,o=e.state.day,r=e.state.month,i=e.state.year,l=e.state.employees,c=e.state.applicants,p=e.state.projects,m=e.state.tasks,u=e.state.emails,h=e.state.messages,d={hour:e.state.hour,day:e.state.day,month:e.state.month,year:e.state.year,startYear:e.state.startYear},y={productivity:0,happiness:0,salary:0};if(e.state.hour>=11?(s=0,e.state.day>=30?(o=0,e.state.month>=12?r=1:(r=e.state.month+1,i=e.state.year+1)):o=e.state.day+1):s=e.state.hour+1,e.state.agency.coh<=0||e.state.employees[0].happiness<=0){var f=e.randomEmailGenerator.fireEmail(e.state.employees[0]);return u.unshift(f),void e.setState({emails:u})}if(0===s){for(var g={},E=0;E<l.length;E++)if(l[E].update(),l[E].projectId&&(g[l[E].projectId]||(g[l[E].projectId]=[]),g[l[E].projectId].push(l[E])),y.productivity+=l[E].stats.productivity,y.happiness+=l[E].stats.happiness,y.salary+=l[E].stats.salary,l[E].quit){var v=e.createTask("hire a new employee to replace "+l[E].name.display,l[E].level,"hire");m.push(v);var w=e.randomEmailGenerator.generateEmail("quit",l[E],null,d);u.unshift(w),l.splice(E,1),a.decrementReputation()}n={productivity:Math.floor(y.productivity/l.length),happiness:Math.floor(y.happiness/l.length),salary:Math.floor(y.salary/l.length)};for(var j=[],k=0;k<p.length;k++)if(p[k].calculateProductivity(g[p[k].id]),p[k].complete){j.push(p[k]);var C=e.createTask("find a new project",3,"project");m.push(C),a.augmentScore(10),a.augmentReputation(),a.augmentHappiness()}for(var b=0;b<j.length;b++)p.splice(j[b],1)}var P=Math.random();if(P<e.state.updateParams.emailFrequency){var R=l[0],S=e.helpers.RandomFromArray(l),x=e.helpers.RandomFromArray(l),I=e.randomEmailGenerator.generateRandomEmail(R,S,x,d);u.unshift(I);var A=e.helpers.RandomFromArray(l),O=e.randomMessageGenerator.generateMessage(null,"3:00pm",A);if(h.push(O),s%2===0&&e.state.applicants<8&&e.state.applicants.length<10){var M=e.randomEmployeeGenerator.generateRandomEmployee();c.push(M);var T=e.randomEmailGenerator.generateEmail("applicant",M,null,d);u.unshift(T)}if(P<e.state.updateParams.projectFrequency&&e.state.projects.length<10){var F=e.state.industry.newProject();p.push(F);var q=e.randomEmailGenerator.generateEmail("project",F,null,d);u.unshift(q)}}0===s&&30===o&&(p=t.monthlyUpdate(p));var D=u.length>100?u.splice(0,100):u,B=h.length>100?h.splice(0,100):h;e.setState({hour:s,day:o,month:r,year:i,employees:l,projects:p,emails:D,messages:B,tasks:m,agency:t,employeeStats:n,player:a})},e.stopTimer=function(){console.log("stopping timer"),clearInterval(e.interval),e.setState({timeRunning:!1})},e.hireApplicant=function(t){console.log("hiring applicant",t),t.id=e.randomEmployeeGenerator.generateEmployeeID();var a=e.state.agency,n=e.sortEmployees([t].concat(Object(u.a)(e.state.employees)));a.calculateAgencyParameters(n,e.state.projects),e.setState({employees:n,applicants:e.state.applicants.filter((function(e){return t.id!==e.id})),agency:a})},e.dismissApplicant=function(t){console.log("dismissing applicant",t),e.setState({applicants:e.state.applicants.filter((function(e){return e.id!==t.id}))})},e.updateEmployee=function(t){console.log("updating employee"),console.log(t);var a=e.state.employees.map((function(e){return e.id!==t.id?e:t}));null===t.projectId&&t.project.removeWorker(t),t.project.calculateProductivity();var n=e.state.projects.filter((function(e){return e.id!==t.project.id?e:t.project})),s=e.state.agency;s.calculateAgencyParameters(a,n),console.log(t),e.setState({employees:a,projects:n,agency:s})},e.updateEmployeeLevel=function(t){console.log("promoting or demoting employee");var a=e.state.employees.map((function(e){return e.id!==t.id?e:t}));e.setState({employees:a})},e.fireEmployee=function(t){console.log("firing employee",t);var a=e.state.employees.filter((function(e){return e.id!==t})),n=e.sortEmployees(a);e.state.agency.calculateAgencyParameters(a,e.state.projects),e.setState({employees:n,panes:e.state.panes.filter((function(e){return e.id!=="employee_"+t})),activePane:e.state.activePane-1})},e.sortEmployees=function(e){return e.sort((function(e,t){return t.level-e.level}))},e.sendEmail=function(t){var a=e.state.player,n=e.state.agency,s=e.state.employees;"request"===t.type?(a.augmentReputation(),a.decrementHappiness(),n.debit(t.cost),s=s.map((function(e){return e.satisfy(10),e}))):a.decrementReputation(),e.setState({emails:[t].concat(Object(u.a)(e.state.emails)),employees:s,agency:n,player:a})},e.readEmail=function(t){console.log("reading email");var a=e.state.emails[t];a.read=!0;var n=e.state.emails.map((function(e,n){return n!==t?e:a}));e.setState({emails:n})},e.archiveEmail=function(t){console.log("archiving email");var a=e.state.emails[t];a.archived=!0;var n=e.state.emails.map((function(e,n){return n!==t?e:a}));e.setState({emails:n})},e.deleteEmail=function(t){e.setState({emails:e.state.emails.filter((function(e,a){return a!==t}))})},e.createTask=function(e,t,a,n,s,o){return{text:e,urgency:t,requester:n||"",type:s,target:o,action:a}},e.generateTask=function(t,a,n,s,o,r){console.log("generating task");var i=e.state.player;i.augmentReputation();var l=e.createTask(t,a,n,s,o,r);e.setState({tasks:[l].concat(Object(u.a)(e.state.tasks)),player:i})},e.resolveTask=function(t,a){console.log("resolving task: "),console.log(a);var n=e.state.player,s=e.state.agency;n.augmentReputation();var o=e.state.employees,r=e.state.tasks;a&&("request"===a.type&&a.subtype&&("money"===a.subtype?s.debit(a.importance*(e.state.year-e.state.startYear)):"time"===a.subtype&&a.target.vacation(a.target.level)),"request"!==a.type&&"task"!==a.type||(a.target.requestSatisfied(),o=e.state.employees.map((function(e){return e.id!==a.target.id?e:a.target})))),t&&(r=e.state.tasks.filter((function(e,t){return t!==e}))),e.setState({tasks:r,player:n,employees:o,agency:s})},e.dismissTask=function(t,a){console.log("dismissing tasks");var n=t?e.state.tasks.filter((function(e,a){return a!==t})):e.state.tasks,s=e.state.player;s.decrementReputation();var o=e.state.employees;a&&("request"!==a.type&&"task"!==a.type||(a.target.requestDenied(),o=e.state.employees.map((function(e){return e.id!==a.target.id?e:a.target})))),e.setState({tasks:n,player:s,employees:o})},e.checkTaskResolution=function(e,t,a){for(var n=0;n<e.length;n++)e[n].type===t&&console.log("task found")},e.addMessage=function(t){e.setState({messages:[].concat(Object(u.a)(e.state.messages),[t])})},e.considerProject=function(t){console.log("considering project",t),t.considering=!0;var a=e.state.projects.map((function(e){return e.id!==t.id?e:t}));e.setState({projects:a})},e.acceptProject=function(t){console.log("accepting project",t),t.accepted=!0;var a=e.state.projects.map((function(e){return e.id!==t.id?e:t}));console.log(a),e.setState({projects:a})},e.rejectProject=function(t){console.log("rejecting project",t),e.setState({projects:e.state.projects.filter((function(e){return e.id!==t}))})},e.withdrawProject=function(t){console.log("withdraw project",t),console.log(e.state.projects),e.setState({projects:e.state.projects.filter((function(e){return e.id!==t})),panes:e.state.panes.filter((function(e){return e.id!=="project_"+t})),activePane:e.state.activePane-1})},e.addPane=function(t,a){console.log("adding pane",a);for(var n=t+"_"+a.id,s=0;s<e.state.panes.length;s++)if(console.log("id",e.state.panes[s].id),e.state.panes[s].id===n)return void e.setState({activePane:s});var o={type:t,info:a,pinned:!1,id:t+"_"+a.id};e.setState({panes:[].concat(Object(u.a)(e.state.panes),[o]),activePane:e.state.panes.length})},e.removePane=function(t){console.log("removing pane",t);var a=e.state.activePane===t?t-1:e.state.activePane;console.log("old active pane",e.state.activePane),console.log("new active pane",a),e.setState({panes:e.state.panes.filter((function(e,a){return t!==a})),activePane:a})},e.updatePane=function(t){e.setState({activePane:t})},e.openMessage=function(t){e.setState({message:t})},e.closeMessage=function(){e.setState({message:null})},e.state={fired:!1,industry:new le,agency:new X,player:new z,sidebarRight:!0,projects:[],totalPositions:20,employees:[],employeeStats:{productivity:0,happiness:0,salary:0},applicants:[],tasks:[],emails:[],messages:[],hour:1,day:29,month:1,year:0,startYear:null,hourLength:750,timeRunning:!1,activePane:0,panes:[{type:"email",pinned:!0},{type:"tasks",pinned:!0}],updateParams:{emailFrequency:.15,projectFrequency:.05}},e.randomEmployeeGenerator=new ee,e.randomProjectGenerator=new re,e.randomEmailGenerator=new pe,e.randomMessageGenerator=new ue,e.helpers=new y,e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.start()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"app"},s.a.createElement(W,{employees:this.state.employees,projects:this.state.projects,applicants:this.state.applicants,addPane:this.addPane,dismissApplicant:this.dismissApplicant}),s.a.createElement("div",{className:"main-container"},s.a.createElement(C,{hour:this.state.hour,day:this.state.day,month:this.state.month,year:this.state.year,startYear:this.state.startYear,timeRunning:this.state.timeRunning,startTimer:this.startTimer,stopTimer:this.stopTimer,agency:this.state.agency,projects:this.state.projects,industry:this.state.industry,employeeStats:this.state.employeeStats,score:this.state.player.score,reputation:this.state.player.reputation}),s.a.createElement(L,{panes:this.state.panes,activePane:this.state.activePane,addPane:this.addPane,updatePane:this.updatePane,removePane:this.removePane,hireApplicant:this.hireApplicant,dismissApplicant:this.dismissApplicant,updateEmployee:this.updateEmployee,updateEmployeeLevel:this.updateEmployeeLevel,fireEmployee:this.fireEmployee,generateTask:this.generateTask,dismissTask:this.dismissTask,resolveTask:this.resolveTask,considerProject:this.considerProject,acceptProject:this.acceptProject,rejectProject:this.rejectProject,withdrawProject:this.withdrawProject,readEmail:this.readEmail,sendEmail:this.sendEmail,archiveEmail:this.archiveEmail,emails:this.state.emails,tasks:this.state.tasks,projects:this.state.projects,employees:this.state.employees})),s.a.createElement("footer",null)),s.a.createElement(J,{open:this.state.messageOpen,closeMessage:this.closeMessage,messages:this.state.messages,addMessage:this.addMessage}))}}]),t}(n.Component),de=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).state={testing:!0},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(he,{testing:this.state.testing})}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(426);r.a.render(s.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},48:function(e,t,a){}},[[258,1,2]]]);
//# sourceMappingURL=main.ec987e32.chunk.js.map